#######################################
# Global Configuration
#######################################

mesh_path: "model://nubots_nugus_hull/mesh/"
mat_path: "file://media/materials/scripts/gazebo.material"

# Configuration for all joints between links
joint:
  dynamics:
    friction: 0.5
    damping: 0.6
    spring_reference: 0
    spring_stiffness: 3.25
  # Servo-specific config
  mx64:
    limit:
      effort: 7.3         # stall torque (Nm)
      velocity: 8.16814   # max. radial velocity (rad/s)
  mx106:
    limit:
      effort: 10.0        # stall torque (Nm)
      velocity: 5.75959   # max. radial velocity (rad/s)

# Configuration for all links
link:
  friction:
    mu: 0.98
    mu2: 0.98
    slip1: 0.00001
    slip2: 0.00001
    torsional: # http://gazebosim.org/tutorials?tut=torsional_friction&cat=physics
      coefficient: 0.8
      patch_radius: 1.0

#######################################
# IMU Sensor
#######################################

# Configuration for IMU sensor
sensor:
  update_rate: 100 # (Hz)
  pose: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0] # xyz rpy (m,rad)
  gyro_noise:
    mean: [0.0, 0.0, 0.0]   # xyz (rad/s)
    stddev: [0.0, 0.0, 0.0] # xyz (rad/s)
  accel_noise:
    mean: [0.0, 0.0, 0.0]   # xyz (m/s^2)
    stddev: [0.0, 0.0, 0.0] # xyz (m/s^2)

#######################################
# Links
#######################################

# Configuration for all links of the NUgus
links:
  # Torso
  - torso:
      sensor: True
      link_pose: [0.0, 0.0, 0.0, 0.0, 0.0, 1.570796327]                      # xyz rpy (m,rad)
      inertial_pose: [0.0050079703254699804, 0.008880921777563762, 0.1021503146237477, 0.0, 0.0, 0.0] # xyz rpy (m,rad)
      mass: 2.5390000000000006 # (kg)
      inertia: # (Nm)
      - [0.01665728720713129, 0.0015451858906936002, 0.004938657742879685]
      - [0.0015451858906936002, 0.004225235417508923, 0.0012027533896274989]
      - [0.004938657742879685, 0.0012027533896274989, 0.05550778391062456]
      mesh: "torso.stl"
      colour: "Gazebo/Grey"

  # Right shoulder pitch
  - right_shoulder:
      link_pose: [0.005, -0.115, 0.18, -1.570796327, 0, 1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [0.003491, -0.001684, 0.003753, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.025434 # (kg)
      inertia: # (Nm)
      - [0.000636, 0.000002, -0.000035]
      - [0.000002, 0.000485, 0.000006]
      - [-0.000035, 0.000006, 0.000628]
      mesh: "right_shoulder.stl"
      colour: "Gazebo/Grey"
  # Left shoulder pitch
  - left_shoulder:
      link_pose: [0.005, 0.115, 0.18, -1.570796327, 0, 1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [0.003491, -0.001684, 0.003753, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.025434 # (kg)
      inertia: # (Nm)
      - [0.000636, -0.000002, -0.000035]
      - [-0.000002, 0.000485, -0.000006]
      - [-0.000035, -0.000006, 0.000628]
      mesh: "left_shoulder.stl"
      colour: "Gazebo/Grey"

  # Right upper arm
  - right_upper_arm:
      link_pose: [0, -0.13, 0.18, 3.141590, 3.141590, -1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [-0.0004754647829298364, -0.0004830631532648927, -0.047851449636613815, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.29700000000000004 # (kg)
      inertia: # (Nm)
      - [0.002440902596230906, -3.6713691248137597e-06, -0.00013891452285131982]
      - [-3.6713691248137597e-06, 0.002283834053695376, -1.9795333785260962e-05]
      - [-0.00013891452285131982, -1.9795333785260962e-05, 0.0005366937214088004]
      mesh: "right_upper_arm.stl"
      colour: "Gazebo/Grey"
  # Left upper arm
  - left_upper_arm:
      link_pose: [0, 0.13, 0.18, 3.141590, 3.141590, -1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [-0.0004754647829298364, 0.0004830631532648927, -0.047851449636613815, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.29700000000000004 # (kg)
      inertia: # (Nm)
      - [0.002440902596230906, -3.6713691248137597e-06, -0.00013891452285131982]
      - [-3.6713691248137597e-06, 0.002283834053695376, -1.9795333785260962e-05]
      - [-0.00013891452285131982, -1.9795333785260962e-05, 0.0005366937214088004]
      mesh: "left_upper_arm.stl"
      colour: "Gazebo/Grey"

  # Right lower arm
  - right_lower_arm:
      link_pose: [0.19, -0.12, 0.22, 0, 0, 1.570796327]   # xyz rpy (m,rad)
      inertial_pose: [0.05336545685394963, -0.0008156196838209869, 0.0006063260979097202, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.26 # (kg)
      inertia: # (Nm)
      - [0.0003407158555996035, 0.00011823673412134757, -2.8830788618180246e-05]
      - [0.00011823673412134757, 0.0017692134503461817, 4.6856873014962955e-06]
      - [-2.8830788618180246e-05, 4.6856873014962955e-06, 0.0016180592541080458]
      mesh: "right_lower_arm.stl"
      colour: "Gazebo/Grey"
  # Left lower arm
  - left_lower_arm:
      link_pose: [0.19, 0.12, 0.22, 0, 0, 1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [0.05336545685394963, -0.0008156196838209869, 0.0006063260979097202, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.26 # (kg)
      inertia: # (Nm)
      - [0.0003407158555996035, 0.00011823673412134757, -2.8830788618180246e-05]
      - [0.00011823673412134757, 0.0017692134503461817, 4.6856873014962955e-06]
      - [-2.8830788618180246e-05, 4.6856873014962955e-06, 0.0016180592541080458]
      mesh: "left_lower_arm.stl"
      colour: "Gazebo/Grey"

  # Right hip_yaw
  - right_hip_yaw:
      link_pose: [0, -0.055, 0, 0, 0, 1.570796327]   # xyz rpy (m,rad)
      inertial_pose: [-0.002182239425416095, -0.04605195346010214, -0.024755435159914185, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.067 # (kg)
      inertia: # (Nm)
      - [0.0008822908208723853, 1.6774497281140121e-06, -7.823405160594508e-06]
      - [1.6774497281140121e-06, 0.0017446691851970998, -2.533160764801179e-05]
      - [-7.823405160594508e-06, -2.533160764801179e-05, 0.0019969672270540887]
      mesh: "right_hip_yaw.stl"
      colour: "Gazebo/Grey"
  # Left hip_yaw
  - left_hip_yaw:
      link_pose: [0, 0.055, 0, 0, 0, 1.570796327]    # xyz rpy (m,rad)
      inertial_pose: [-0.002182239425416095, 0.04605195346010214, -0.024755435159914185, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.067 # (kg)
      inertia: # (Nm)
      - [0.0008822260608090899, -1.7055231391090623e-06, -7.854427661648553e-06]
      - [-1.7055231391090623e-06, 0.0017446275715154703, 2.5331794090224253e-05]
      - [-7.854427661648553e-06, 2.5331794090224253e-05, 0.001996990306593893]
      mesh: "left_hip_yaw.stl"
      colour: "Gazebo/Grey"

  # Right hip_roll
  - right_hip_roll:
      link_pose: [0, -0.055, -0.06, 0, 0, 1.570796327]   # xyz rpy (m,rad)
      inertial_pose: [0.015732946879847644, -3.319144005479369e-05, -0.02071085319304939, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.306 # (kg)
      inertia: # (Nm)
      - [0.0001179296979195992, 3.750777661643139e-06, -3.7623939617341825e-06]
      - [3.750777661643139e-06, 0.00021675292165888234, -1.0471910235692515e-06]
      - [-3.7623939617341825e-06, -1.0471910235692515e-06, 0.000261935711080282]
      mesh: "right_hip_roll.stl"
      colour: "Gazebo/Grey"
  # Left hip_roll
  - left_hip_roll:
      link_pose: [0, 0.055, -0.06, 0, 0, 1.570796327]   # xyz rpy (m,rad)
      inertial_pose: [0.015732946879847644, 3.319144005479369e-05, -0.02071085319304939, 0, 0, 0]        # xyz rpy (m,rad)
      mass: 0.306 # (kg)
      inertia: # (Nm)
      - [0.0001179296979195992, 3.750777661643139e-06, -3.7623939617341825e-06]
      - [3.750777661643139e-06, 0.00021675292165888234, -1.0471910235692515e-06]
      - [-3.7623939617341825e-06, -1.0471910235692515e-06, 0.000261935711080282]
      mesh: "left_hip_roll.stl"
      colour: "Gazebo/Grey"

  # Right thigh
  - right_upper_leg:
      link_pose: [0.01, -0.055, -0.05, -0.05, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.0868239473635843, -0.0009904680702090176, -0.0032236573318317092, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.387 # (kg)
      inertia: # (Nm)
      - [0.0006967005196318071, -9.534768064209597e-06, -0.00047062464986191157]
      - [-9.534768064209597e-06, 0.0023927878790607625, 1.168766364373783e-07]
      - [-0.00047062464986191157, 1.168766364373783e-07, 0.0020569215256885614]
      mesh: "right_upper_leg.stl"
      colour: "Gazebo/Grey"
  # Left thigh
  - left_upper_leg:
      link_pose: [0.01, 0.055, -0.06, -0.05, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.0868239473635843, -0.0009904680702090176, -0.0032236573318317092, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.387 # (kg)
      inertia: # (Nm)
      - [0.0006967005196318071, 9.534768064209597e-06, -0.00047062464986191157]
      - [9.534768064209597e-06, 0.0023927878790607625, -1.168766364373783e-07]
      - [-0.00047062464986191157, -1.168766364373783e-07, 0.0020569215256885614]
      mesh: "left_upper_leg.stl"
      colour: "Gazebo/Grey"

  # Right shank
  - right_lower_leg:
      inertial_pose: [-0.10000847255111779, 0.0012849442073489777, -0.0070729066189781946, 0, 0, 0] # xyz rpy (m,rad)
      link_pose: [0.01, -0.055, -0.25, 0, 0, 1.570796327] # xyz rpy (m,rad)
      mass: 0.177 # (kg)
      inertia: # (Nm)
      - [0.00026298531488117623, -8.38322526058631e-06, 0.0002634339989834785]
      - [-8.38322526058631e-06, 0.001587091949550628, -6.909200774158671e-07]
      - [0.0002634339989834785, -6.909200774158671e-07, 0.001417720950622744]
      mesh: "right_lower_leg.stl"
      colour: "Gazebo/Grey"
  # Left shank
  - left_lower_leg:
      link_pose: [0.01, 0.055, -0.25, 0, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.10000847255111779, 0.0012849442073489777, -0.0070729066189781946, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.177 # (kg)
      inertia: # (Nm)
      - [0.00026298531488117623, 8.38322526058631e-06, 0.0002634339989834785]
      - [8.38322526058631e-06, 0.001587091949550628, 6.909200774158671e-07]
      - [0.0002634339989834785, 6.909200774158671e-07, 0.001417720950622744]
      mesh: "left_lower_leg.stl"
      colour: "Gazebo/Grey"

  # Right ankle
  - right_ankle:
      link_pose: [0, -0.055, -0.45, 0, 3.141590, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.01573294687984541, 0.0005126082201406932, -0.02197623716321553, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.306 # (kg)
      inertia: # (Nm)
      - [0.00011792969791959952, 3.7507776616440774e-06, 3.762393961734002e-06]
      - [3.7507776616440774e-06, 0.00021675292165888193, 1.0471910235692212e-06]
      - [3.762393961734002e-06, 1.0471910235692212e-06, 0.0002619357110802831]
      mesh: "right_ankle.stl"
      colour: "Gazebo/Grey"
  # Left ankle
  - left_ankle:
      link_pose: [0, 0.055, -0.45, 0, 3.141590, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.01573294687984541, 0.0005126082201406932, -0.02197623716321553, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.306 # (kg)
      inertia: # (Nm)
      - [0.00011792969791959952, -3.7507776616440774e-06, 3.762393961734002e-06]
      - [-3.7507776616440774e-06, 0.00021675292165888193, -1.0471910235692212e-06]
      - [3.762393961734002e-06, -1.0471910235692212e-06, 0.0002619357110802831]
      mesh: "left_ankle.stl"
      colour: "Gazebo/Grey"

  # Right foot
  - right_foot:
      link_pose: [-0.04, -0.055, -0.45, 0, 0.0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [0.030807480494529724, 0.008771710644510001, 0.011298451871418577, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.20500000000000002 # (kg)
      inertia: # (Nm)
      - [0.00046922761556703155, 1.237289853891243e-05, 5.165617444725389e-06]
      - [1.237289853891243e-05, 0.0010836186025044235, -1.7594150186636352e-06]
      - [5.165617444725389e-06, -1.7594150186636352e-06, 0.0013901177557110861]
      mesh: "right_foot.stl"
      colour: "Gazebo/Grey"
  # Left foot
  - left_foot:
      link_pose: [-0.04, 0.055, -0.45, 0, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [0.030807480494529724, 0.008771710644510001, 0.011298451871418577, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.20500000000000002 # (kg)
      inertia: # (Nm)
      - [0.00046922761556703155, -1.237289853891243e-05, 5.165617444725389e-06]
      - [-1.237289853891243e-05, 0.0010836186025044235, 1.7594150186636352e-06]
      - [5.165617444725389e-06, 1.7594150186636352e-06, 0.0013901177557110861]
      mesh: "left_foot.stl"
      colour: "Gazebo/Grey"

  # Neck
  - neck:
      link_pose: [0, 0, 0.26, 0, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.006037340172290435, -0.0015998434503701033, 0.2411591619288128, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.135 # (kg)
      inertia: # (Nm)
      - [0.0004111124111540318, 1.3444829354587089e-10, -3.6469345836421835e-10]
      - [1.3444829354587089e-10, 0.00034317494217641443, -1.2460217686668395e-05]
      - [-3.6469345836421835e-10, -1.2460217686668395e-05, 0.00023338989035478087]
      mesh: "neck.stl"
      colour: "Gazebo/Grey"

  # Head
  - head:
      link_pose: [0, 0, 0.26, 0, 0, 1.570796327] # xyz rpy (m,rad)
      inertial_pose: [-0.05482228998067195, -0.00010888238321339966, 0.0011712900228573724, 0, 0, 0] # xyz rpy (m,rad)
      mass: 0.41900000000000004 # (kg)
      inertia: # (Nm)
      - [0.005229542632240126, 8.068689130285243e-07, -7.854193775142716e-05]
      - [8.068689130285243e-07, 0.004273822060223504, 2.2633217085057325e-07]
      - [-7.854193775142716e-05, 2.2633217085057325e-07, 0.0033336320526664368]
      mesh: "head.stl"
      colour: "Gazebo/Grey"

#######################################
# Joints
#######################################

joints:
  # Shoulder pitch (0, 1)
  - right_shoulder_pitch:
      parent: "torso"
      child: "right_shoulder"
      axis: [0, 1, 0]
      type: "mx64"
  - left_shoulder_pitch:
      parent: "torso"
      child: "left_shoulder"
      axis: [0, 1, 0]
      type: "mx64"
  # Shoulder roll (2, 3)
  - right_shoulder_roll:
      parent: "right_shoulder"
      child: "right_upper_arm"
      axis: [0, 0, 1]
      type: "mx64"
  - left_shoulder_roll:
      parent: "left_shoulder"
      child: "left_upper_arm"
      axis: [0, 0, 1]
      type: "mx64"
  # Elbow (4, 5)
  - right_elbow_pitch:
      parent: "right_upper_arm"
      child: "right_lower_arm"
      axis: [0, 1, 0]
      type: "mx64"
  - left_elbow_pitch:
      parent: "left_upper_arm"
      child: "left_lower_arm"
      axis: [0, 1, 0]
      type: "mx64"
  # Hip yaw (6, 7)
  - right_hip_yaw:
      parent: "torso"
      child: "right_hip_yaw"
      axis: [0, 0, 1]
      type: "mx106"
  - left_hip_yaw:
      parent: "torso"
      child: "left_hip_yaw"
      axis: [0, 0, 1]
      type: "mx106"
  # Hip roll (8, 9)
  - right_hip_roll:
      parent: "right_hip_yaw"
      child: "right_hip_roll"
      axis: [1, 0, 0]
      type: "mx106"
  - left_hip_roll:
      parent: "left_hip_yaw"
      child: "left_hip_roll"
      axis: [1, 0, 0]
      type: "mx106"
  # Hip pitch (10, 11)
  - right_hip_pitch:
      parent: "right_hip_roll"
      child: "right_upper_leg"
      axis: [0, 1, 0]
      type: "mx106"
  - left_hip_pitch:
      parent: "left_hip_roll"
      child: "left_upper_leg"
      axis: [0, 1, 0]
      type: "mx106"
  # Knee (12, 13)
  - right_knee_pitch:
      parent: "right_upper_leg"
      child: "right_lower_leg"
      axis: [0, 1, 0]
      type: "mx106"
  - left_knee_pitch:
      parent: "left_upper_leg"
      child: "left_lower_leg"
      axis: [0, 1, 0]
      type: "mx106"
  # Ankle pitch (14, 15)
  - right_ankle_pitch:
      parent: "right_lower_leg"
      child: "right_ankle"
      axis: [0, 1, 0]
      type: "mx106"
  - left_ankle_pitch:
      parent: "left_lower_leg"
      child: "left_ankle"
      axis: [0, 1, 0]
      type: "mx106"
  # Ankle roll (16, 17)
  - right_ankle_roll:
      parent: "right_ankle"
      child: "right_foot"
      axis: [1, 0, 0]
      type: "mx106"
  - left_ankle_roll:
      parent: "left_ankle"
      child: "left_foot"
      axis: [1, 0, 0]
      type: "mx106"
  # Head yaw (18)
  - neck_yaw:
      parent: "torso"
      child: "neck"
      axis: [0, 0, 1]
      type: "mx64"
  # Head pitch (19)
  - head_pitch:
      parent: "neck"
      child: "head"
      axis: [0, 1, 0]
      type: "mx64"
